

# **PRD：沉浸式阅读器笔记模块**

## **项目概述**

沉浸式阅读器项目旨在整合一个笔记模块，提升学者、研究人员、学生、律师、重度知识工作者和隐私敏感的数字原住民的阅读体验。该模块将允许用户创建、管理和编辑与特定文本部分相关的笔记，同时与AI助手模块结合使用，帮助用户提供建议、总结和解答疑惑。

## **核心需求**

* **性能**：笔记模块应快速响应，确保与阅读器及笔记交互时的流畅性。
* **简洁性**：用户界面必须清晰简洁，便于用户操作和导航。
* **隐私与安全**：确保用户笔记的私密性与安全性。免费版本使用本地存储，付费版本提供加密云存储。
* **离线支持**：用户必须能够在没有互联网连接的情况下访问、查看和编辑笔记。
* **分析功能**：提供基本的分析功能，跟踪笔记创建频率和使用时长。
* **编辑功能**：用户可以直接在笔记详情区编辑笔记内容。
* **不支持外部分享**：MVP版本不支持笔记分享功能。
* **不支持协作**：MVP版本不包括协作功能。

## **核心功能**

1. **笔记创建**：用户可以创建与特定文本部分（如句子、段落等）相关的笔记。
2. **笔记编辑**：用户可以在笔记详情区直接编辑笔记内容。
3. **笔记删除**：用户可以删除笔记，删除后的笔记会被移到回收站，保留30天后永久删除。
4. **笔记搜索**：用户可以按标题、标签、创建时间或修改时间筛选笔记。
5. **高亮和标注**：用户可以在笔记中对文本进行高亮显示，或者对某些段落进行标注。
6. **AI助手**：AI助手可以根据用户的请求，提供建议、总结或解答笔记相关的疑问。
7. **离线使用**：即使没有互联网连接，用户仍然可以创建、查看和编辑笔记。
8. **加密功能**：所有笔记内容都会进行加密，确保只有授权用户才能访问。
9. **本地存储**：免费版本的笔记将存储在本地，付费版本提供云存储。

## **核心组件**

1. **笔记列表**：显示所有笔记，支持分类、排序。
2. **笔记详情区**：展示并允许用户编辑所选笔记的内容。
3. **搜索和筛选**：根据标题、标签或高亮文本部分来搜索和筛选笔记。
4. **回收站**：用户删除的笔记会进入回收站，30天后永久删除。
5. **AI助手**：提供个性化的建议、总结，解答笔记相关疑问。

## **应用/用户流程**

1. **启动**：用户打开沉浸式阅读器应用。
2. **笔记列表视图**：用户会看到左侧的笔记列表。
3. **选择笔记**：用户选择一条笔记，右侧展示该笔记的详情。
4. **编辑/高亮/标注**：用户可以在笔记详情区编辑笔记内容、对文本进行高亮或添加标注。
5. **AI助手交互**：用户可以请求AI助手提供建议、总结或解答疑问。
6. **搜索/筛选**：用户可以根据标签、分类或时间来搜索或筛选笔记。
7. **删除/恢复**：用户可以删除笔记，删除后的笔记会进入回收站，30天后永久删除。
8. **离线模式**：用户即使没有网络连接，仍然可以创建、查看和编辑笔记。

## **技术栈**

* **前端**：

  * **框架**：React用于构建响应式和动态界面。
  * **样式**：TailwindCSS用于清晰且可定制的设计。

* **后端**：

  * **桌面应用框架**：Tauri用于构建跨平台的桌面应用。
  * **数据库**：SQLite用于本地存储笔记，采用加密技术保证安全性。
  * **编程语言**：Rust用于构建后端逻辑和性能优化。

* **AI助手**：

  * 集成自然语言处理库（例如GPT-3，OpenAI API）提供基于AI的建议和总结。

* **加密**：使用AES-256加密技术保护笔记内容和用户隐私。

* **离线支持**：使用Tauri的文件系统功能，确保在没有网络的情况下也能访问和编辑笔记。

## **实施计划**

### **第一阶段：MVP开发**

1. **笔记模块**：

   * 实现笔记的创建、编辑和删除功能。
   * 开发笔记详情区，支持编辑内容。
   * 构建回收站功能，支持笔记30天的回收站周期。

2. **搜索与筛选功能**：

   * 开启笔记的搜索与筛选功能，支持按标签、分类及时间排序。

3. **高亮和标注功能**：

   * 增加文本高亮和段落标注功能。

4. **AI助手集成**：

   * 集成AI助手，提供个性化建议、总结和解答。

5. **离线支持**：

   * 实现本地存储并确保离线功能正常使用。

6. **加密功能**：

   * 确保笔记内容的加密处理，保护用户隐私。

7. **测试**：

   * 内部测试，确保产品稳定性、性能和安全性。
   * 从小范围用户那里收集反馈，优化功能。

---